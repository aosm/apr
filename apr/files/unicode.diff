--- include/apr.h.in.orig	2006-08-31 16:17:59.000000000 -0700
+++ include/apr.h.in	2006-08-31 16:18:23.000000000 -0700
@@ -221,7 +221,11 @@
 #define APR_HAS_OTHER_CHILD       @oc@
 #define APR_HAS_DSO               @aprdso@
 #define APR_HAS_SO_ACCEPTFILTER   @acceptfilter@
+#ifdef __APPLE__
+#define APR_HAS_UNICODE_FS        1
+#else
 #define APR_HAS_UNICODE_FS        0
+#endif
 #define APR_HAS_PROC_INVOKED      0
 #define APR_HAS_USER              1
 #define APR_HAS_LARGE_FILES       @aprlfs@
--- file_io/unix/filepath.c.orig	2006-08-31 16:36:31.000000000 -0700
+++ file_io/unix/filepath.c	2006-08-31 16:38:07.000000000 -0700
@@ -304,6 +304,10 @@
 
 APR_DECLARE(apr_status_t) apr_filepath_encoding(int *style, apr_pool_t *p)
 {
+#if APR_HAS_UNICODE_FS
+    *style = APR_FILEPATH_ENCODING_UTF8;
+#else
     *style = APR_FILEPATH_ENCODING_LOCALE;
+#endif
     return APR_SUCCESS;
 }
